---
import BaseLayout from '../layouts/BaseLayout.astro';
const modules = Object.entries(import.meta.glob('../content/articles/*.md', { eager: true }));
const posts = modules.map(([p, m]) => ({
  ...((m as any)?.frontmatter ?? {}),
  url: '/articles/' + ((m as any)?.frontmatter?.slug ?? '')
}));
---
<BaseLayout title="Artículos">
  <nav class="mb-6 text-sm text-slate-400">
    <a href="/">Inicio</a> / <span>Artículos</span>
  </nav>
  <h1 class="text-3xl font-bold">Artículos</h1>
  <div class="mt-6 space-y-4">
    {posts.map(a => <a href={a.url} class="block p-6 rounded-xl main-card"><h3>{a.title}</h3><p>{a.excerpt}</p></a>)}
  </div>
</BaseLayout>
